#! /usr/bin/env node

var program = require('commander'),
	colcon = require('../lib/colcon'),
	version = require('../package.json').version;

program
	.version(version)
	.usage('[options]')
	.option('-c, --color [value]', 'a color code like rgb or hex. If passing a hex color code, remove the leading #.')
	.parse(process.argv);

if (typeof program.color == 'string') {
	colcon.convert(program.color, function(error, result) {
		if (error) {
			console.log('ERROR: ' + error);
		} else {
			// Empty console.log() for empty row
			console.log();
			for (var p in result) {
				console.log(p + ': ' + result[p]);
			}
			console.log();
		}
	});

} else if (typeof program.color == 'boolean') {
	console.log('ERROR: Please do not use a # in hex color codes.');
} else {
	console.error('ERROR: -c or --color is required.');
}
